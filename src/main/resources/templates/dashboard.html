<!doctype html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<th:block th:include="/fragments/layout :: cabecalho "></th:block>
<link rel="stylesheet" type="text/css" th:href="@{/css/dashboard.css}" media="screen" />
<title>DecControl</title>
</head>
<body>

	<div class="d-flex" id="wrapper">
		
		<th:block th:include="/fragments/layout :: menuLateral "></th:block>

		<div id="page-content-wrapper">
			<th:block th:include="/fragments/layout :: topo "></th:block>

			<div class="container-fluid pt-3">
 <!--  <div class="main-content">  -->
			    <div class="header bg-gradient-primary pb-8 pt-2 pt-md-8" >
			      <div class="container-fluid">
			        <h2 class="mb-5 text-dark">Resumo geral das solicitações</h2>
			        <div class="header-body">
			          <div class="row">
			            <div class="col-md-6 col-lg-4 pb-3" >
			              <a th:href="@{/solicitacao/consulta/liberada}" class="text-decoration-none text-reset">
			              <div class="card card-stats mb-4 mb-xl-0">
			                <div class="card-body shadow">
			                  <div class="row">
			                    <div class="col">
			                      <h5 class="card-title text-uppercase text-muted mb-0">Sem erro</h5>
			                      <span class="h2 font-weight-bold mb-0" th:text="${dashboardPendentes}">29</span>
			                    </div>
			                    <div class="col-auto">
			                      <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
			                        <i class="far fa-paper-plane"></i>
			                      </div>
			                    </div>
			                  </div>
			                  <p class="mt-3 mb-0 text-muted text-sm">
			                    <span class="text-warning mr-1">
			                    <span th:if="${dashboardPendentes} ==0" th:text="${dashboardPendentes}"></span>
			                    <span  th:if="${dashboardPendentes} !=0" th:with="result=(${dashboardPendentes} / ${dashboardTotal}) * 100">
								  <span class="text-reset" th:text="${#numbers.formatDecimal(result,2,2,'COMMA')}"></span>%
							  </span></span>
			                    <span class="text-nowrap">das solicitações pendentes</span>
			                  </p>
			                </div>
			              </div>
			              </a>
			            </div>
			            <div class="col-md-6 col-lg-4 pb-3">
			            <a th:href="@{/solicitacao/consulta/erro}" class="text-decoration-none text-reset">
			              <div class="card card-stats mb-4 mb-xl-0">
			                <div class="card-body shadow">
			                  <div class="row">
			                    <div class="col">
			                      <h5 class="card-title text-uppercase text-muted mb-0">Com erro</h5>
			                      <span class="h2 font-weight-bold mb-0" th:text="${dashboardErros}">8</span>
			                    </div>
			                    <div class="col-auto">
			                      <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
			                        <i class="fas fa-exclamation-triangle"></i>
			                      </div>
			                    </div>
			                  </div>
			                  <p class="mt-3 mb-0 text-muted text-sm">
			                    <span class="text-danger mr-1">
			                    <span th:if="${dashboardErros} == 0" th:text="${dashboardErros}"></span>
			                    <span th:if="${dashboardErros} !=0" th:with="result=(${dashboardErros} / ${dashboardTotal}) * 100">
								  <span class="text-reset" th:text="${#numbers.formatDecimal(result,2,2,'COMMA')}"></span>%
							  </span></span>
			                    <span class="text-nowrap">das solicitações pendentes</span>
			                  </p>
			                </div>
			              </div>
			             </a>
			            </div>
			            <div class="col-md-6 col-lg-4 pb-3">
			            <a th:href="@{/solicitacao/consulta/retificadora}" class="text-decoration-none text-reset">
			              <div class="card card-stats mb-4 mb-xl-0">
			                <div class="card-body shadow">
			                  <div class="row">
			                    <div class="col">
			                      <h5 class="card-title text-uppercase text-muted mb-0">Retificadoras</h5>
			                      <span class="h2 font-weight-bold mb-0"th:text="${dashboardRetificadoras}">15</span>
			                    </div>
			                    <div class="col-auto">
			                      <div class="icon icon-shape bg-info text-white rounded-circle shadow">
			                        <i class="fas fa-exchange-alt"></i>
			                      </div>
			                    </div>
			                  </div>
			                  <p class="mt-3 mb-0 text-muted text-sm">
			                    <span class="text-info mr-1">
			                    <span th:if="${dashboardRetificadoras} ==0" th:text="${dashboardRetificadoras}"></span>
			                    <span th:if="${dashboardRetificadoras} !=0" th:with="result=(${dashboardRetificadoras} /  ${dashboardTotal}) * 100">
								  <span class="text-reset" th:text="${#numbers.formatDecimal(result,2,2,'COMMA')}"></span>%
							  </span></span>
			                    <span class="text-nowrap">das solicitações pendentes</span>
			                  </p>
			                </div>
			              </div>
			             </a>
			            </div>
			            <div class="col-md-6 col-lg-4 pb-3">
			              <a th:href="@{/solicitacao/consulta/pendente}" class="text-decoration-none text-reset">
			              <div class="card card-stats mb-4 mb-xl-0">
			                <div class="card-body shadow">
			                  <div class="row">
			                    <div class="col">
			                      <h5 class="card-title text-uppercase text-muted mb-0">Total Pendentes</h5>
			                      <span class="h2 font-weight-bold mb-0" th:text="${dashboardTotal}">185</span>
			                    </div>
			                    <div class="col-auto">
			                      <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
			                        <i class="fas fa-th-list"></i>
			                      </div>
			                    </div>
			                  </div>
			                  <p class="mt-3 mb-0 text-muted text-sm">
			                    <span class="text-secondary mr-1"><i class="far fa-clock"></i> Atualizado em: 
			                   <!-- <span th:with="result=(${dashboardTotalMesEntregue} / ${dashboardTotalMes}) * 100">
								  <span class="text-reset" th:text="${#numbers.formatDecimal(result,2,2,'COMMA')}"></span>%
							  </span></span>
			                    <span class="text-nowrap">das solicitações</span>-->
			                   <span class="text-reset"  th:text="${#dates.format(#dates.createNow(), 'dd/MM/yyyy HH:mm')}"></span></span>
			                  </p>
			                </div>
			              </div>
			             </a>
			            </div>
			            <div class="col-md-6 col-lg-4 pb-3">
			              <a th:href="@{/solicitacao/consulta/entregue}" class="text-decoration-none text-reset">
			              <div class="card card-stats mb-4 mb-xl-0">
			                <div class="card-body shadow">
			                  <div class="row">
			                    <div class="col">
			                      <h5 class="card-title text-uppercase text-muted mb-0">entregue no mês</h5>
			                      <span class="h2 font-weight-bold mb-0" th:text="${dashboardTotalMesEntregue}">185</span>
			                    </div>
			                    <div class="col-auto">
			                      <div class="icon icon-shape bg-success text-white rounded-circle shadow">
			                        <i class="fas fa-clipboard-check"></i>
			                      </div>
			                    </div>
			                  </div>
			                  <p class="mt-3 mb-0 text-muted text-sm">
			                    <span class="text-secondary mr-2"><i class="far fa-clock"></i> Atualizado em:
			                 <!--  <span th:with="result=(${dashboardTotalMesEntregue} / ${dashboardTotalMes}) * 100">
								  <span class="text-reset" th:text="${#numbers.formatDecimal(result,2,2,'COMMA')}"></span>%
							  </span></span> -->
			                     <span class="text-reset"  th:text="${#dates.format(#dates.createNow(), 'dd/MM/yyyy HH:mm')}"></span></span>
			                  </p>
			                </div>
			              </div>
			             </a>
			            </div>
			            <div>
			           <!--  <div sec:authorize="isAuthenticated()">
			            Logged user: <span sec:authentication="name">Bob</span>
						Roles: <span sec:authentication="principal.authorities"></span>
						Usuario: <span sec:authentication="principal"></span>
					    <p>Today is: <span th:text="${today}">13 February 2011</span></p>
						  Welcome to our grocery store, Sebastian Pepper!
						</p>
						<p>Text: <span th:text="${#authentication.getPrincipal().id}"></span></p>
						<p>Text: <span th:text="${#authentication.getPrincipal().nome}"></span></p>
					    </div>   -->     
			            </div>
			          </div>
			        </div>
			      </div>
			    </div>
  		</div>
 	</div>
 </div>
<footer>
	<th:block th:include="/fragments/layout :: rodape "></th:block>
	</footer>
</body>
</html>