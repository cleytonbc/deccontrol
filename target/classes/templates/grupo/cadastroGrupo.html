<!doctype html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
	<th:block th:include="/fragments/layout :: cabecalho "></th:block>
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
    
    <title>Cadastrar Grupo</title>
	
</head>
<body>
<div class="d-flex" id="wrapper">
		<th:block th:include="/fragments/layout :: menuLateral "></th:block>
<div id="page-content-wrapper">
			<th:block th:include="/fragments/layout :: topo "></th:block>

			<div class="container-fluid pt-3">
	<div class="card w-100">
		<div class="card-header text-center">
		<h4 class="text-center">Cadastro de Grupo</h4>
		</div>
		<div class="card-body">
		<div class="alert  alert-danger  alert-dismissible" role="alert" 
		     th:if="${not #strings.isEmpty(mensagem)}" >
			<span th:text="${mensagem}"></span>
			</div>
		  <form method="post" th:object="${grupo}">
		  	<div class="alert  alert-danger  alert-dismissible" role="alert" 
		     th:if="${#fields.hasAnyErrors()}"  >
			<th:block th:each="detailedError : ${#fields.detailedErrors()}">
				<div><i class="fa  fa-exclamation-circle"></i> [[${detailedError.message}]]</div>
			</th:block>
			</div>
			<div class="row">
        	<div class="form-group col-md-4">
	          	<label for="cnpj" >Nome:</label>
	        	<input type="text" class="form-control" id="nome" th:field="*{nome}"/>
        	</div>
        	<div class="form-group col-md-6">
	        	<label for="nome" >Descrição:</label>
	        	<input type="text" class="form-control" id="nome" th:field="*{descricao}"/>
	        </div>
				</div>
	        <div class="form-group">
				<button type="submit" class="btn btn-primary mb-2" >Cadastrar</button>
				<a th:href="@{/}" ><span class="btn btn-danger mb-2">Cancelar</span></a>
			</div>
	    </form>
	    </div>
	    
	    <div class="card-header text-center">
			<h4 class="text-center">Cadastro de empresa</h4>
		</div>
		<div class="card-body">
		<table class="table table-bordered table-sm">
		 <thead>
			<tr>
				<th>Nome</th>
			    <th>Descrição</th>
			    <th></th>
			    <th></th>
		    </tr>
		 </thead>
		 	<tbody th:remove="${#arrays.isEmpty(grupoList)} ? all : 'all-but-first'">
				<tr th:each="grupo: ${grupoList}">
					<td th:text="${grupo.nome}"></td>
					<td th:text="${grupo.descricao}"></td>
					<td class="text-right">
		   				<a th:href="@{/grupos/editar/{idgrupo}(idgrupo=${grupo.id})}" class="link-padrao">
		    			<i class="fas fa-user-edit"></i>
		  				</a>
		  			</td>
					<td class="text-right">
						<i class="fas fa-trash-alt"></i>
					</td>
				</tr>
		 	</tbody>
		</table>
		    
	    </div>
 </div>
 </div>
 </div>
 </div>
<footer> 
<th:block th:include="/fragments/layout :: rodape "></th:block>
<script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
<script th:src="@{/vendor/js/bootstrap.bundle.min.js}"></script>
</footer>
</body>
</html>